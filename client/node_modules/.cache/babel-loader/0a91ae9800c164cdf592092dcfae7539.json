{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from\"react\";import PortfolioPage from\"./PortfolioPage\";import{connect}from\"react-redux\";import{useHttp}from\"../../hooks/http.hook\";import{setColor,setWhatIDid,setWork,setWorkId,setStyle,setImagesData}from\"../../Redux/WorksReducer\";var PortfolioPageContainer=function PortfolioPageContainer(props){var _useHttp=useHttp(),loading=_useHttp.loading,request=_useHttp.request;useEffect(function(){var getLastWorkData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var worksData,worksDataReverse,images;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return request(\"/api/works\",\"GET\",null);case 2:worksData=_context.sent;worksDataReverse=worksData.reverse();props.setWork(worksDataReverse);if(!(worksData.length!==0)){_context.next=10;break;}_context.next=8;return request(\"/api/works/getMainPhotos/workPhoto\",\"GET\",null);case 8:images=_context.sent;props.setImagesData(images);case 10:case\"end\":return _context.stop();}}},_callee);}));return function getLastWorkData(){return _ref.apply(this,arguments);};}();getLastWorkData();},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(PortfolioPage,{works:props.works,images:props.images,loading:loading}));};var mapStateToProps=function mapStateToProps(state){return{works:state.works.works,currentWorkId:state.works.currentWorkId,images:state.works.images};};export default connect(mapStateToProps,{setColor:setColor,setWhatIDid:setWhatIDid,setWork:setWork,setWorkId:setWorkId,setStyle:setStyle,setImagesData:setImagesData})(PortfolioPageContainer);","map":{"version":3,"sources":["C:/Users/jassem/Desktop/my_portfolio/client/src/components/PortfolioPage/PortfolioPageContainer.js"],"names":["React","useEffect","PortfolioPage","connect","useHttp","setColor","setWhatIDid","setWork","setWorkId","setStyle","setImagesData","PortfolioPageContainer","props","loading","request","getLastWorkData","worksData","worksDataReverse","reverse","length","images","works","mapStateToProps","state","currentWorkId"],"mappings":"qVAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,KAAwB,uBAAxB,CACA,OACEC,QADF,CAEEC,WAFF,CAGEC,OAHF,CAIEC,SAJF,CAKEC,QALF,CAMEC,aANF,KAOO,0BAPP,CASA,GAAIC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,KAAD,CAAW,cACTR,OAAO,EADE,CAC9BS,OAD8B,UAC9BA,OAD8B,CACrBC,OADqB,UACrBA,OADqB,CAEtCb,SAAS,CAAC,UAAM,CACd,GAAMc,CAAAA,eAAe,0FAAG,+LACED,CAAAA,OAAO,CAAC,YAAD,CAAe,KAAf,CAAsB,IAAtB,CADT,QAChBE,SADgB,eAEhBC,gBAFgB,CAEGD,SAAS,CAACE,OAAV,EAFH,CAGtBN,KAAK,CAACL,OAAN,CAAcU,gBAAd,EAHsB,KAIlBD,SAAS,CAACG,MAAV,GAAqB,CAJH,iDAKCL,CAAAA,OAAO,CAAC,oCAAD,CAAuC,KAAvC,CAA8C,IAA9C,CALR,QAKdM,MALc,eAMpBR,KAAK,CAACF,aAAN,CAAoBU,MAApB,EANoB,uDAAH,kBAAfL,CAAAA,eAAe,0CAArB,CASAA,eAAe,GAChB,CAXQ,CAWN,EAXM,CAAT,CAYA,mBACE,4CACE,oBAAC,aAAD,EAAe,KAAK,CAAEH,KAAK,CAACS,KAA5B,CAAmC,MAAM,CAAET,KAAK,CAACQ,MAAjD,CAAyD,OAAO,CAAEP,OAAlE,EADF,CADF,CAKD,CAnBD,CAqBA,GAAIS,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,MAAO,CACLF,KAAK,CAAEE,KAAK,CAACF,KAAN,CAAYA,KADd,CAELG,aAAa,CAAED,KAAK,CAACF,KAAN,CAAYG,aAFtB,CAGLJ,MAAM,CAAEG,KAAK,CAACF,KAAN,CAAYD,MAHf,CAAP,CAKD,CAND,CAQA,cAAejB,CAAAA,OAAO,CAACmB,eAAD,CAAkB,CACtCjB,QAAQ,CAARA,QADsC,CAEtCC,WAAW,CAAXA,WAFsC,CAGtCC,OAAO,CAAPA,OAHsC,CAItCC,SAAS,CAATA,SAJsC,CAKtCC,QAAQ,CAARA,QALsC,CAMtCC,aAAa,CAAbA,aANsC,CAAlB,CAAP,CAOZC,sBAPY,CAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport PortfolioPage from \"./PortfolioPage\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHttp } from \"../../hooks/http.hook\";\r\nimport {\r\n  setColor,\r\n  setWhatIDid,\r\n  setWork,\r\n  setWorkId,\r\n  setStyle,\r\n  setImagesData,\r\n} from \"../../Redux/WorksReducer\";\r\n\r\nlet PortfolioPageContainer = (props) => {\r\n  const { loading, request } = useHttp();\r\n  useEffect(() => {\r\n    const getLastWorkData = async () => {\r\n      const worksData = await request(\"/api/works\", \"GET\", null);\r\n      const worksDataReverse = worksData.reverse();\r\n      props.setWork(worksDataReverse);\r\n      if (worksData.length !== 0) {\r\n        const images = await request(\"/api/works/getMainPhotos/workPhoto\", \"GET\", null);\r\n        props.setImagesData(images);\r\n      }\r\n    };\r\n    getLastWorkData();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <PortfolioPage works={props.works} images={props.images} loading={loading} />\r\n    </div>\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    works: state.works.works,\r\n    currentWorkId: state.works.currentWorkId,\r\n    images: state.works.images,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setColor,\r\n  setWhatIDid,\r\n  setWork,\r\n  setWorkId,\r\n  setStyle,\r\n  setImagesData,\r\n})(PortfolioPageContainer);\r\n"]},"metadata":{},"sourceType":"module"}