{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from\"react\";import AdminPanelMenu from\"./AdminPanelMenu\";import{connect}from\"react-redux\";import{compose}from\"redux\";import{withAuthRedirect}from\"../../../Hoc/withRedirect\";import{logout}from\"../../../Redux/AdminReducer\";import{useHttp}from\"../../../hooks/http.hook\";import{setWork,setImagesData}from\"../../../Redux/WorksReducer\";import{setArticles,setArticlesMainImages}from\"../../../Redux/ArticlesReducer\";import\"../Admin.css\";var AdminPanelManuContaienr=function AdminPanelManuContaienr(props){var _useHttp=useHttp(),loading=_useHttp.loading,request=_useHttp.request;useEffect(function(){var getLastWorkData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var worksData,images,articlesResponse,articlesReverse,articlesImages;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return request(\"/api/works\",\"GET\",null);case 2:worksData=_context.sent;props.setWork(worksData);if(!(worksData.length!==0)){_context.next=9;break;}_context.next=7;return request(\"/api/works/getMainPhotos/workPhoto\",\"GET\",null);case 7:images=_context.sent;props.setImagesData(images);case 9:_context.next=11;return request(\"/api/articles\",\"GET\",null);case 11:articlesResponse=_context.sent;articlesReverse=articlesResponse.reverse();props.setArticles(articlesReverse);_context.next=16;return request(\"/api/articles/getArticleMainImages\",\"GET\",null);case 16:articlesImages=_context.sent;props.setArticlesMainImages(articlesImages);case 18:case\"end\":return _context.stop();}}},_callee);}));return function getLastWorkData(){return _ref.apply(this,arguments);};}();getLastWorkData();},[]);return/*#__PURE__*/React.createElement(AdminPanelMenu,{loading:loading,works:props.works,images:props.images,articles:props.articles,articleImages:props.articleImages,logout:props.logout});};var mapStateToProps=function mapStateToProps(state){return{works:state.works.works,images:state.works.images,articles:state.articles.articles,articleImages:state.articles.images};};export default compose(connect(mapStateToProps,{logout:logout,setWork:setWork,setImagesData:setImagesData,setArticles:setArticles,setArticlesMainImages:setArticlesMainImages}),withAuthRedirect)(AdminPanelManuContaienr);","map":{"version":3,"sources":["C:/Users/jassem/Desktop/my_portfolio/client/src/components/adminPanel/AdminPanelComponents/AdminPanelMenuContainer.jsx"],"names":["React","useEffect","AdminPanelMenu","connect","compose","withAuthRedirect","logout","useHttp","setWork","setImagesData","setArticles","setArticlesMainImages","AdminPanelManuContaienr","props","loading","request","getLastWorkData","worksData","length","images","articlesResponse","articlesReverse","reverse","articlesImages","works","articles","articleImages","mapStateToProps","state"],"mappings":"qVAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,KAAwB,OAAxB,CACA,OAASC,gBAAT,KAAiC,2BAAjC,CACA,OAASC,MAAT,KAAuB,6BAAvB,CACA,OAASC,OAAT,KAAwB,0BAAxB,CACA,OAASC,OAAT,CAAkBC,aAAlB,KAAuC,6BAAvC,CACA,OAASC,WAAT,CAAsBC,qBAAtB,KAAmD,gCAAnD,CACA,MAAO,cAAP,CACA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACC,KAAD,CAAW,cACZN,OAAO,EADK,CACjCO,OADiC,UACjCA,OADiC,CACxBC,OADwB,UACxBA,OADwB,CAEzCd,SAAS,CAAC,UAAM,CACd,GAAMe,CAAAA,eAAe,0FAAG,8NACED,CAAAA,OAAO,CAAC,YAAD,CAAe,KAAf,CAAsB,IAAtB,CADT,QAChBE,SADgB,eAEtBJ,KAAK,CAACL,OAAN,CAAcS,SAAd,EAFsB,KAGlBA,SAAS,CAACC,MAAV,GAAqB,CAHH,gDAICH,CAAAA,OAAO,CAAC,oCAAD,CAAuC,KAAvC,CAA8C,IAA9C,CAJR,QAIdI,MAJc,eAKpBN,KAAK,CAACJ,aAAN,CAAoBU,MAApB,EALoB,8BAOSJ,CAAAA,OAAO,CAAC,eAAD,CAAkB,KAAlB,CAAyB,IAAzB,CAPhB,SAOhBK,gBAPgB,eAQhBC,eARgB,CAQED,gBAAgB,CAACE,OAAjB,EARF,CAStBT,KAAK,CAACH,WAAN,CAAkBW,eAAlB,EATsB,uBAUON,CAAAA,OAAO,CAAC,oCAAD,CAAuC,KAAvC,CAA8C,IAA9C,CAVd,SAUhBQ,cAVgB,eAWtBV,KAAK,CAACF,qBAAN,CAA4BY,cAA5B,EAXsB,uDAAH,kBAAfP,CAAAA,eAAe,0CAArB,CAaAA,eAAe,GAChB,CAfQ,CAeN,EAfM,CAAT,CAiBA,mBACE,oBAAC,cAAD,EACE,OAAO,CAAEF,OADX,CAEE,KAAK,CAAED,KAAK,CAACW,KAFf,CAGE,MAAM,CAAEX,KAAK,CAACM,MAHhB,CAIE,QAAQ,CAAEN,KAAK,CAACY,QAJlB,CAKE,aAAa,CAAEZ,KAAK,CAACa,aALvB,CAME,MAAM,CAAEb,KAAK,CAACP,MANhB,EADF,CAUD,CA7BD,CA+BA,GAAIqB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,MAAO,CACLJ,KAAK,CAAEI,KAAK,CAACJ,KAAN,CAAYA,KADd,CAELL,MAAM,CAAES,KAAK,CAACJ,KAAN,CAAYL,MAFf,CAGLM,QAAQ,CAAEG,KAAK,CAACH,QAAN,CAAeA,QAHpB,CAILC,aAAa,CAAEE,KAAK,CAACH,QAAN,CAAeN,MAJzB,CAAP,CAMD,CAPD,CASA,cAAef,CAAAA,OAAO,CACpBD,OAAO,CAACwB,eAAD,CAAkB,CAAErB,MAAM,CAANA,MAAF,CAAUE,OAAO,CAAPA,OAAV,CAAmBC,aAAa,CAAbA,aAAnB,CAAkCC,WAAW,CAAXA,WAAlC,CAA+CC,qBAAqB,CAArBA,qBAA/C,CAAlB,CADa,CAEpBN,gBAFoB,CAAP,CAGbO,uBAHa,CAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport AdminPanelMenu from \"./AdminPanelMenu\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../../Hoc/withRedirect\";\r\nimport { logout } from \"../../../Redux/AdminReducer\";\r\nimport { useHttp } from \"../../../hooks/http.hook\";\r\nimport { setWork, setImagesData } from \"../../../Redux/WorksReducer\";\r\nimport { setArticles, setArticlesMainImages } from \"../../../Redux/ArticlesReducer\";\r\nimport \"../Admin.css\";\r\nconst AdminPanelManuContaienr = (props) => {\r\n  const { loading, request } = useHttp();\r\n  useEffect(() => {\r\n    const getLastWorkData = async () => {\r\n      const worksData = await request(\"/api/works\", \"GET\", null);\r\n      props.setWork(worksData);\r\n      if (worksData.length !== 0) {\r\n        const images = await request(\"/api/works/getMainPhotos/workPhoto\", \"GET\", null);\r\n        props.setImagesData(images);\r\n      }\r\n      const articlesResponse = await request(\"/api/articles\", \"GET\", null);\r\n      const articlesReverse = articlesResponse.reverse();\r\n      props.setArticles(articlesReverse);\r\n      const articlesImages = await request(\"/api/articles/getArticleMainImages\", \"GET\", null);\r\n      props.setArticlesMainImages(articlesImages);\r\n    };\r\n    getLastWorkData();\r\n  }, []);\r\n\r\n  return (\r\n    <AdminPanelMenu\r\n      loading={loading}\r\n      works={props.works}\r\n      images={props.images}\r\n      articles={props.articles}\r\n      articleImages={props.articleImages}\r\n      logout={props.logout}\r\n    />\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    works: state.works.works,\r\n    images: state.works.images,\r\n    articles: state.articles.articles,\r\n    articleImages: state.articles.images,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { logout, setWork, setImagesData, setArticles, setArticlesMainImages }),\r\n  withAuthRedirect\r\n)(AdminPanelManuContaienr);\r\n"]},"metadata":{},"sourceType":"module"}