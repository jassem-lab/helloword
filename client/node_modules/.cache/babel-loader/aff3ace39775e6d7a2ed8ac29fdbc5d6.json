{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jassem\\\\Desktop\\\\hhh\\\\client\\\\src\\\\components\\\\BlogPage\\\\BlogPageComponents\\\\ArticleContainer.jsx\";\nimport React, { useEffect } from \"react\";\nimport Article from \"./Article\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { useHttp } from \"../../../hooks/http.hook\";\nimport { setArticleId, setArticleName, setArticles, setArticlesMainImages, setArticleBlocks, setArticleBlocksImages, setArticleBlocksLists, setArticleBlocksTextAreas, uploadCurrentArticleComments } from \"../../../Redux/ArticlesReducer\";\nimport { useState } from \"react\";\n\nlet ArticleContainer = props => {\n  let ArticleName = props.match.params.articleName;\n  props.setArticleName(ArticleName);\n  const {\n    loading,\n    request\n  } = useHttp();\n  useEffect(() => {\n    const articles = async () => {\n      // get all articles data\n      if (props.currentArticleName === ArticleName) {\n        const articlesResponse = await request(`/api/articles/getArticle/${props.currentArticleName}`, \"GET\", null);\n        props.setArticles(articlesResponse);\n\n        if (articlesResponse.length !== 0) {\n          const currentId = articlesResponse[0]._id;\n          props.setArticleId(currentId);\n        }\n\n        if (props.currentArticleId !== 0 && props.currentArticleId === articlesResponse[0]._id) {\n          const articlesImages = await request(`/api/articles/getArticleMainImages/${props.currentArticleId}`, \"GET\", null);\n          props.setArticlesMainImages(articlesImages);\n          const articlesBlocksresponse = await request(`/api/articles/getArticleBlockData/${props.currentArticleId}`, \"GET\", null);\n          props.setArticleBlocks(articlesBlocksresponse);\n          const articlesBlocksImages = await request(`/api/articles/getArticleBlockImages/${props.currentArticleId}`, \"GET\", null);\n          props.setArticleBlocksImages(articlesBlocksImages);\n          const articlesBlocksLists = await request(`/api/articles/getArticleBlockLists/${props.currentArticleId}`, \"GET\", null);\n          props.setArticleBlocksLists(articlesBlocksLists);\n          const articlesBlocksTextAreas = await request(`/api/articles/getArticleBlockTextAreas/${props.currentArticleId}`, \"GET\", null);\n          props.setArticleBlocksTextAreas(articlesBlocksTextAreas);\n          const articleCommentsResponse = await request(`/api/articles/getArticleComments/${props.currentArticleId}`, \"GET\", null);\n          props.uploadCurrentArticleComments(articleCommentsResponse);\n        }\n      }\n    };\n\n    articles();\n  }, [props.currentArticleId, props.currentArticleName]);\n  const [like, setLikeState] = useState(false);\n\n  const setLike = async () => {\n    const likes = parseInt(props.articles[0].likes);\n    const plusLikeCounter = await request(`/api/articles/${props.currentArticleId}`, \"PATCH\", {\n      likes: likes ? likes + 1 : 1\n    });\n    setLikeState(true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Article //props data\n  , {\n    loading: loading,\n    articles: props.articles,\n    currentArticleId: props.currentArticleId,\n    articleImages: props.articleImages,\n    blocks: props.blocks,\n    blocksImages: props.blocksImages,\n    blocksLists: props.blocksLists,\n    blocksTextAreas: props.blocksTextAreas,\n    articleComments: props.articleComments //functions\n    ,\n    like: like,\n    setLike: setLike,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }));\n};\n\nlet mapStateToProps = state => {\n  return {\n    articles: state.articles.articles,\n    currentArticleId: state.articles.currentArticleId,\n    articleImages: state.articles.images,\n    blocks: state.articles.blocks,\n    currentBlockId: state.articles.currentBlockId,\n    blocksImages: state.articles.blocksImages,\n    blocksLists: state.articles.blocksLists,\n    blocksTextAreas: state.articles.blocksTextAreas,\n    currentArticleName: state.articles.currentArticleName\n  };\n};\n\nexport default compose(connect(mapStateToProps, {\n  setArticleId,\n  setArticleName,\n  setArticles,\n  setArticlesMainImages,\n  setArticleBlocks,\n  setArticleBlocksImages,\n  setArticleBlocksLists,\n  setArticleBlocksTextAreas,\n  uploadCurrentArticleComments\n}), withRouter)(ArticleContainer);","map":{"version":3,"sources":["C:/Users/jassem/Desktop/hhh/client/src/components/BlogPage/BlogPageComponents/ArticleContainer.jsx"],"names":["React","useEffect","Article","connect","compose","withRouter","useHttp","setArticleId","setArticleName","setArticles","setArticlesMainImages","setArticleBlocks","setArticleBlocksImages","setArticleBlocksLists","setArticleBlocksTextAreas","uploadCurrentArticleComments","useState","ArticleContainer","props","ArticleName","match","params","articleName","loading","request","articles","currentArticleName","articlesResponse","length","currentId","_id","currentArticleId","articlesImages","articlesBlocksresponse","articlesBlocksImages","articlesBlocksLists","articlesBlocksTextAreas","articleCommentsResponse","like","setLikeState","setLike","likes","parseInt","plusLikeCounter","articleImages","blocks","blocksImages","blocksLists","blocksTextAreas","articleComments","mapStateToProps","state","images","currentBlockId"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport Article from \"./Article\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useHttp } from \"../../../hooks/http.hook\";\r\nimport {\r\n  setArticleId,\r\n  setArticleName,\r\n  setArticles,\r\n  setArticlesMainImages,\r\n  setArticleBlocks,\r\n  setArticleBlocksImages,\r\n  setArticleBlocksLists,\r\n  setArticleBlocksTextAreas,\r\n  uploadCurrentArticleComments,\r\n} from \"../../../Redux/ArticlesReducer\";\r\nimport { useState } from \"react\";\r\n\r\nlet ArticleContainer = (props) => {\r\n  let ArticleName = props.match.params.articleName;\r\n  props.setArticleName(ArticleName);\r\n  const { loading, request } = useHttp();\r\n  useEffect(() => {\r\n    const articles = async () => {\r\n      // get all articles data\r\n      if (props.currentArticleName === ArticleName) {\r\n        const articlesResponse = await request(\r\n          `/api/articles/getArticle/${props.currentArticleName}`,\r\n          \"GET\",\r\n          null\r\n        );\r\n        props.setArticles(articlesResponse);\r\n        if (articlesResponse.length !== 0) {\r\n          const currentId = articlesResponse[0]._id;\r\n          props.setArticleId(currentId);\r\n        }\r\n        if (props.currentArticleId !== 0 && props.currentArticleId === articlesResponse[0]._id) {\r\n          const articlesImages = await request(\r\n            `/api/articles/getArticleMainImages/${props.currentArticleId}`,\r\n            \"GET\",\r\n            null\r\n          );\r\n          props.setArticlesMainImages(articlesImages);\r\n          const articlesBlocksresponse = await request(\r\n            `/api/articles/getArticleBlockData/${props.currentArticleId}`,\r\n            \"GET\",\r\n            null\r\n          );\r\n          props.setArticleBlocks(articlesBlocksresponse);\r\n          const articlesBlocksImages = await request(\r\n            `/api/articles/getArticleBlockImages/${props.currentArticleId}`,\r\n            \"GET\",\r\n            null\r\n          );\r\n          props.setArticleBlocksImages(articlesBlocksImages);\r\n          const articlesBlocksLists = await request(\r\n            `/api/articles/getArticleBlockLists/${props.currentArticleId}`,\r\n            \"GET\",\r\n            null\r\n          );\r\n          props.setArticleBlocksLists(articlesBlocksLists);\r\n          const articlesBlocksTextAreas = await request(\r\n            `/api/articles/getArticleBlockTextAreas/${props.currentArticleId}`,\r\n            \"GET\",\r\n            null\r\n          );\r\n          props.setArticleBlocksTextAreas(articlesBlocksTextAreas);\r\n          const articleCommentsResponse = await request(\r\n            `/api/articles/getArticleComments/${props.currentArticleId}`,\r\n            \"GET\",\r\n            null\r\n          );\r\n          props.uploadCurrentArticleComments(articleCommentsResponse);\r\n        }\r\n      }\r\n    };\r\n    articles();\r\n  }, [props.currentArticleId, props.currentArticleName]);\r\n\r\n  const [like, setLikeState] = useState(false);\r\n  const setLike = async () => {\r\n    const likes = parseInt(props.articles[0].likes);\r\n    const plusLikeCounter = await request(`/api/articles/${props.currentArticleId}`, \"PATCH\", {\r\n      likes: likes ? likes + 1 : 1,\r\n    });\r\n    setLikeState(true);\r\n  };\r\n  return (\r\n    <div>\r\n      <Article\r\n        //props data\r\n        loading={loading}\r\n        articles={props.articles}\r\n        currentArticleId={props.currentArticleId}\r\n        articleImages={props.articleImages}\r\n        blocks={props.blocks}\r\n        blocksImages={props.blocksImages}\r\n        blocksLists={props.blocksLists}\r\n        blocksTextAreas={props.blocksTextAreas}\r\n        articleComments={props.articleComments}\r\n        //functions\r\n        like={like}\r\n        setLike={setLike}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    articles: state.articles.articles,\r\n    currentArticleId: state.articles.currentArticleId,\r\n    articleImages: state.articles.images,\r\n    blocks: state.articles.blocks,\r\n    currentBlockId: state.articles.currentBlockId,\r\n    blocksImages: state.articles.blocksImages,\r\n    blocksLists: state.articles.blocksLists,\r\n    blocksTextAreas: state.articles.blocksTextAreas,\r\n    currentArticleName: state.articles.currentArticleName,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setArticleId,\r\n    setArticleName,\r\n    setArticles,\r\n    setArticlesMainImages,\r\n    setArticleBlocks,\r\n    setArticleBlocksImages,\r\n    setArticleBlocksLists,\r\n    setArticleBlocksTextAreas,\r\n    uploadCurrentArticleComments,\r\n  }),\r\n  withRouter\r\n)(ArticleContainer);\r\n"]},"metadata":{},"sourceType":"module"}