{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jassem\\\\Desktop\\\\hhh\\\\client\\\\src\\\\components\\\\adminPanel\\\\AdminPanelComponents\\\\adminArticlesSpace\\\\UpdateLatestArticleDataContainer.jsx\";\nimport React, { useEffect } from \"react\";\nimport UpdateLatestArticleData from \"./UpdateLatestArticleData\";\nimport { connect } from \"react-redux\";\nimport { useHttp } from \"../../../../hooks/http.hook\";\nimport { setArticleId, setArticles, setArticlesMainImages, setArticleBlocks, setCurrentBlockId, setArticleBlocksImages, setArticleBlocksLists, setArticleBlocksTextAreas } from \"../../../../Redux/ArticlesReducer\";\n\nconst UpdateLatestArticleDataContainer = props => {\n  const {\n    request\n  } = useHttp();\n  useEffect(() => {\n    const articles = async () => {\n      const articlesResponse = await request(\"/api/articles\", \"GET\", null);\n      props.setArticles(articlesResponse);\n\n      if (articlesResponse.length !== null) {\n        const currentId = articlesResponse[articlesResponse.length - 1]._id;\n        props.setArticleId(currentId);\n      }\n\n      if (props.currentArticleId !== null) {\n        const articlesImages = await request(`/api/articles/getArticleMainImages/${props.currentArticleId}`, \"GET\", null);\n        props.setArticlesMainImages(articlesImages);\n        const articlesBlocksresponse = await request(`/api/articles/getArticleBlockData/${props.currentArticleId}`, \"GET\", null);\n        const currentBlockId = articlesBlocksresponse[articlesBlocksresponse.length - 1]._id;\n        props.setCurrentBlockId(currentBlockId);\n        props.setArticleBlocks(articlesBlocksresponse);\n        const articlesBlocksImages = await request(`/api/articles/getArticleBlockImages/${props.currentArticleId}`, \"GET\", null);\n        props.setArticleBlocksImages(articlesBlocksImages);\n        const articlesBlocksLists = await request(`/api/articles/getArticleBlockLists/${props.currentArticleId}`, \"GET\", null);\n        props.setArticleBlocksLists(articlesBlocksLists);\n        const articlesBlocksTextAreas = await request(`/api/articles/getArticleBlockTextAreas/${props.currentArticleId}`, \"GET\", null);\n        props.setArticleBlocksTextAreas(articlesBlocksTextAreas);\n      }\n    };\n\n    articles();\n  }, [props.currentArticleId]);\n\n  const addArticleBlock = async formData => {\n    await request(\"/api/articles/createArticleBlock\", \"POST\", { ...formData,\n      owner: props.currentArticleId\n    });\n    const getArticleBlocks = await request(`/api/articles/getArticleBlockData/${props.currentArticleId}`, \"GET\", null);\n    const currentBlockId = getArticleBlocks[getArticleBlocks.length - 1]._id;\n    props.setCurrentBlockId(currentBlockId);\n    props.setArticleBlocks(getArticleBlocks);\n    formData.title = null;\n    formData.text = null;\n  };\n\n  const addArticleBlockListItem = async formData => {\n    await request(\"/api/articles/createArticleBlockList\", \"POST\", { ...formData,\n      articleOwner: props.currentArticleId,\n      blockOwner: props.currentBlockId\n    });\n    const articlesBlocksLists = await request(`/api/articles/getArticleBlockLists/${props.currentArticleId}`, \"GET\", null);\n    props.setArticleBlocksLists(articlesBlocksLists);\n    const articlesBlocksTextAreas = await request(`/api/articles/getArticleBlockTextAreas/${props.currentArticleId}`, \"GET\", null);\n    props.setArticleBlocksTextAreas(articlesBlocksTextAreas);\n    formData.title = null;\n  };\n\n  const addArticleBlockTextArea = async formData => {\n    await request(\"/api/articles/createArticleBlockTextArea\", \"POST\", { ...formData,\n      articleOwner: props.currentArticleId,\n      blockOwner: props.currentBlockId\n    });\n    const articlesBlocksTextAreas = await request(`/api/articles/getArticleBlockTextAreas/${props.currentArticleId}`, \"GET\", null);\n    props.setArticleBlocksTextAreas(articlesBlocksTextAreas);\n    formData.text = null;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(UpdateLatestArticleData, {\n    currentArticleId: props.currentArticleId,\n    articles: props.allArticles,\n    articleImages: props.articleImages,\n    blocks: props.blocks,\n    blocksImages: props.blocksImages,\n    blocksLists: props.blocksLists,\n    blocksTextAreas: props.blocksTextAreas,\n    addArticleBlock: addArticleBlock,\n    addArticleBlockListItem: addArticleBlockListItem,\n    addArticleBlockTextArea: addArticleBlockTextArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }));\n};\n\nlet mapStateToProps = state => {\n  return {\n    allArticles: state.articles.articles,\n    currentArticleId: state.articles.currentArticleId,\n    articleImages: state.articles.images,\n    blocks: state.articles.blocks,\n    currentBlockId: state.articles.currentBlockId,\n    blocksImages: state.articles.blocksImages,\n    blocksLists: state.articles.blocksLists,\n    blocksTextAreas: state.articles.blocksTextAreas\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setArticleId,\n  setArticles,\n  setArticlesMainImages,\n  setArticleBlocks,\n  setCurrentBlockId,\n  setArticleBlocksImages,\n  setArticleBlocksLists,\n  setArticleBlocksTextAreas\n})(UpdateLatestArticleDataContainer);","map":{"version":3,"sources":["C:/Users/jassem/Desktop/hhh/client/src/components/adminPanel/AdminPanelComponents/adminArticlesSpace/UpdateLatestArticleDataContainer.jsx"],"names":["React","useEffect","UpdateLatestArticleData","connect","useHttp","setArticleId","setArticles","setArticlesMainImages","setArticleBlocks","setCurrentBlockId","setArticleBlocksImages","setArticleBlocksLists","setArticleBlocksTextAreas","UpdateLatestArticleDataContainer","props","request","articles","articlesResponse","length","currentId","_id","currentArticleId","articlesImages","articlesBlocksresponse","currentBlockId","articlesBlocksImages","articlesBlocksLists","articlesBlocksTextAreas","addArticleBlock","formData","owner","getArticleBlocks","title","text","addArticleBlockListItem","articleOwner","blockOwner","addArticleBlockTextArea","allArticles","articleImages","blocks","blocksImages","blocksLists","blocksTextAreas","mapStateToProps","state","images"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport UpdateLatestArticleData from \"./UpdateLatestArticleData\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHttp } from \"../../../../hooks/http.hook\";\r\nimport {\r\n  setArticleId,\r\n  setArticles,\r\n  setArticlesMainImages,\r\n  setArticleBlocks,\r\n  setCurrentBlockId,\r\n  setArticleBlocksImages,\r\n  setArticleBlocksLists,\r\n  setArticleBlocksTextAreas,\r\n} from \"../../../../Redux/ArticlesReducer\";\r\n\r\nconst UpdateLatestArticleDataContainer = (props) => {\r\n  const { request } = useHttp();\r\n  useEffect(() => {\r\n    const articles = async () => {\r\n      const articlesResponse = await request(\"/api/articles\", \"GET\", null);\r\n      props.setArticles(articlesResponse);\r\n      if (articlesResponse.length !== null) {\r\n        const currentId = articlesResponse[articlesResponse.length - 1]._id;\r\n        props.setArticleId(currentId);\r\n      }\r\n      if (props.currentArticleId !== null) {\r\n        const articlesImages = await request(\r\n          `/api/articles/getArticleMainImages/${props.currentArticleId}`,\r\n          \"GET\",\r\n          null\r\n        );\r\n        props.setArticlesMainImages(articlesImages);\r\n        const articlesBlocksresponse = await request(\r\n          `/api/articles/getArticleBlockData/${props.currentArticleId}`,\r\n          \"GET\",\r\n          null\r\n        );\r\n        const currentBlockId = articlesBlocksresponse[articlesBlocksresponse.length - 1]._id;\r\n        props.setCurrentBlockId(currentBlockId);\r\n        props.setArticleBlocks(articlesBlocksresponse);\r\n        const articlesBlocksImages = await request(\r\n          `/api/articles/getArticleBlockImages/${props.currentArticleId}`,\r\n          \"GET\",\r\n          null\r\n        );\r\n        props.setArticleBlocksImages(articlesBlocksImages);\r\n        const articlesBlocksLists = await request(\r\n          `/api/articles/getArticleBlockLists/${props.currentArticleId}`,\r\n          \"GET\",\r\n          null\r\n        );\r\n        props.setArticleBlocksLists(articlesBlocksLists);\r\n        const articlesBlocksTextAreas = await request(\r\n          `/api/articles/getArticleBlockTextAreas/${props.currentArticleId}`,\r\n          \"GET\",\r\n          null\r\n        );\r\n        props.setArticleBlocksTextAreas(articlesBlocksTextAreas);\r\n      }\r\n    };\r\n    articles();\r\n  }, [props.currentArticleId]);\r\n\r\n  const addArticleBlock = async (formData) => {\r\n    await request(\"/api/articles/createArticleBlock\", \"POST\", {\r\n      ...formData,\r\n      owner: props.currentArticleId,\r\n    });\r\n    const getArticleBlocks = await request(\r\n      `/api/articles/getArticleBlockData/${props.currentArticleId}`,\r\n      \"GET\",\r\n      null\r\n    );\r\n    const currentBlockId = getArticleBlocks[getArticleBlocks.length - 1]._id;\r\n    props.setCurrentBlockId(currentBlockId);\r\n    props.setArticleBlocks(getArticleBlocks);\r\n    formData.title = null;\r\n    formData.text = null;\r\n  };\r\n\r\n  const addArticleBlockListItem = async (formData) => {\r\n    await request(\"/api/articles/createArticleBlockList\", \"POST\", {\r\n      ...formData,\r\n      articleOwner: props.currentArticleId,\r\n      blockOwner: props.currentBlockId,\r\n    });\r\n    const articlesBlocksLists = await request(\r\n      `/api/articles/getArticleBlockLists/${props.currentArticleId}`,\r\n      \"GET\",\r\n      null\r\n    );\r\n    props.setArticleBlocksLists(articlesBlocksLists);\r\n    const articlesBlocksTextAreas = await request(\r\n      `/api/articles/getArticleBlockTextAreas/${props.currentArticleId}`,\r\n      \"GET\",\r\n      null\r\n    );\r\n    props.setArticleBlocksTextAreas(articlesBlocksTextAreas);\r\n    formData.title = null;\r\n  };\r\n\r\n  const addArticleBlockTextArea = async (formData) => {\r\n    await request(\"/api/articles/createArticleBlockTextArea\", \"POST\", {\r\n      ...formData,\r\n      articleOwner: props.currentArticleId,\r\n      blockOwner: props.currentBlockId,\r\n    });\r\n    const articlesBlocksTextAreas = await request(\r\n      `/api/articles/getArticleBlockTextAreas/${props.currentArticleId}`,\r\n      \"GET\",\r\n      null\r\n    );\r\n    props.setArticleBlocksTextAreas(articlesBlocksTextAreas);\r\n    formData.text = null;\r\n  };\r\n  return (\r\n    <div>\r\n      <UpdateLatestArticleData\r\n        currentArticleId={props.currentArticleId}\r\n        articles={props.allArticles}\r\n        articleImages={props.articleImages}\r\n        blocks={props.blocks}\r\n        blocksImages={props.blocksImages}\r\n        blocksLists={props.blocksLists}\r\n        blocksTextAreas={props.blocksTextAreas}\r\n        addArticleBlock={addArticleBlock}\r\n        addArticleBlockListItem={addArticleBlockListItem}\r\n        addArticleBlockTextArea={addArticleBlockTextArea}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    allArticles: state.articles.articles,\r\n    currentArticleId: state.articles.currentArticleId,\r\n    articleImages: state.articles.images,\r\n    blocks: state.articles.blocks,\r\n    currentBlockId: state.articles.currentBlockId,\r\n    blocksImages: state.articles.blocksImages,\r\n    blocksLists: state.articles.blocksLists,\r\n    blocksTextAreas: state.articles.blocksTextAreas,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setArticleId,\r\n  setArticles,\r\n  setArticlesMainImages,\r\n  setArticleBlocks,\r\n  setCurrentBlockId,\r\n  setArticleBlocksImages,\r\n  setArticleBlocksLists,\r\n  setArticleBlocksTextAreas,\r\n})(UpdateLatestArticleDataContainer);\r\n"]},"metadata":{},"sourceType":"module"}