{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _objectSpread from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{connect}from\"react-redux\";import WorkComments from\"./WorkComments\";import{uploadCurrentWorkComments,uploadCurrentCommentId}from\"../../../Redux/WorksReducer\";import{useHttp}from\"../../../hooks/http.hook\";var WorkCommentsContainer=function WorkCommentsContainer(props){var _useHttp=useHttp(),request=_useHttp.request;var addWorkComment=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(formData){var workCommentsResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"/api/works/createWorkComment\",\"POST\",_objectSpread(_objectSpread({},formData),{},{workOwner:props.currentWorkId}));case 3:_context.next=5;return request(\"/api/works/getWorkComments/\".concat(props.currentWorkId),\"GET\",null);case 5:workCommentsResponse=_context.sent;props.uploadCurrentWorkComments(workCommentsResponse);formData.userName=\"\";formData.CommentText=\"\";_context.next=13;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function addWorkComment(_x){return _ref.apply(this,arguments);};}();var addWorkCommentAnswer=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(formData){var workCommentsResponse;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return request(\"/api/works/createWorkComment\",\"POST\",_objectSpread(_objectSpread({},formData),{},{workOwner:props.currentWorkId,commentOwner:props.currentCommentId}));case 3:_context2.next=5;return request(\"/api/works/getWorkComments/\".concat(props.currentWorkId),\"GET\",null);case 5:workCommentsResponse=_context2.sent;props.uploadCurrentWorkComments(workCommentsResponse);props.uploadCurrentCommentId(null);_context2.next=12;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function addWorkCommentAnswer(_x2){return _ref2.apply(this,arguments);};}();var addAnswer=function addAnswer(e){props.uploadCurrentCommentId(e.currentTarget.id);};return/*#__PURE__*/React.createElement(WorkComments// props\n,{workComments:props.workComments,currentCommentId:props.currentCommentId// functions\n,addWorkComment:addWorkComment,addWorkCommentAnswer:addWorkCommentAnswer,addAnswer:addAnswer});};var mapStateToProps=function mapStateToProps(state){return{workComments:state.works.workComments,currentWorkId:state.works.currentWorkId,currentCommentId:state.works.currentCommentId};};export default connect(mapStateToProps,{uploadCurrentWorkComments:uploadCurrentWorkComments,uploadCurrentCommentId:uploadCurrentCommentId})(WorkCommentsContainer);","map":{"version":3,"sources":["C:/Users/jassem/Desktop/my_portfolio/client/src/components/PortfolioPage/PortfolioPageWorks/WorkCommentsContainer.jsx"],"names":["React","connect","WorkComments","uploadCurrentWorkComments","uploadCurrentCommentId","useHttp","WorkCommentsContainer","props","request","addWorkComment","formData","workOwner","currentWorkId","workCommentsResponse","userName","CommentText","addWorkCommentAnswer","commentOwner","currentCommentId","addAnswer","e","currentTarget","id","workComments","mapStateToProps","state","works"],"mappings":"ggBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,yBAAT,CAAoCC,sBAApC,KAAkE,6BAAlE,CACA,OAASC,OAAT,KAAwB,0BAAxB,CAEA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,KAAD,CAAW,cACnBF,OAAO,EADY,CAC/BG,OAD+B,UAC/BA,OAD+B,CAGvC,GAAMC,CAAAA,cAAc,0FAAG,iBAAOC,QAAP,iLAEbF,CAAAA,OAAO,CAAC,8BAAD,CAAiC,MAAjC,gCACRE,QADQ,MAEXC,SAAS,CAAEJ,KAAK,CAACK,aAFN,GAFM,8BAMgBJ,CAAAA,OAAO,sCACVD,KAAK,CAACK,aADI,EAExC,KAFwC,CAGxC,IAHwC,CANvB,QAMbC,oBANa,eAWnBN,KAAK,CAACJ,yBAAN,CAAgCU,oBAAhC,EACAH,QAAQ,CAACI,QAAT,CAAoB,EAApB,CACAJ,QAAQ,CAACK,WAAT,CAAuB,EAAvB,CAbmB,sJAAH,kBAAdN,CAAAA,cAAc,4CAApB,CAiBA,GAAMO,CAAAA,oBAAoB,2FAAG,kBAAON,QAAP,uLAEnBF,CAAAA,OAAO,CAAC,8BAAD,CAAiC,MAAjC,gCACRE,QADQ,MAEXC,SAAS,CAAEJ,KAAK,CAACK,aAFN,CAGXK,YAAY,CAAEV,KAAK,CAACW,gBAHT,GAFY,+BAOUV,CAAAA,OAAO,sCACVD,KAAK,CAACK,aADI,EAExC,KAFwC,CAGxC,IAHwC,CAPjB,QAOnBC,oBAPmB,gBAYzBN,KAAK,CAACJ,yBAAN,CAAgCU,oBAAhC,EACAN,KAAK,CAACH,sBAAN,CAA6B,IAA7B,EAbyB,4JAAH,kBAApBY,CAAAA,oBAAoB,8CAA1B,CAgBA,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,CAAD,CAAO,CACvBb,KAAK,CAACH,sBAAN,CAA6BgB,CAAC,CAACC,aAAF,CAAgBC,EAA7C,EACD,CAFD,CAIA,mBACE,oBAAC,YACC;AADF,EAEE,YAAY,CAAEf,KAAK,CAACgB,YAFtB,CAGE,gBAAgB,CAAEhB,KAAK,CAACW,gBACxB;AAJF,CAKE,cAAc,CAAET,cALlB,CAME,oBAAoB,CAAEO,oBANxB,CAOE,SAAS,CAAEG,SAPb,EADF,CAWD,CAnDD,CAqDA,GAAIK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,MAAO,CACLF,YAAY,CAAEE,KAAK,CAACC,KAAN,CAAYH,YADrB,CAELX,aAAa,CAAEa,KAAK,CAACC,KAAN,CAAYd,aAFtB,CAGLM,gBAAgB,CAAEO,KAAK,CAACC,KAAN,CAAYR,gBAHzB,CAAP,CAKD,CAND,CAOA,cAAejB,CAAAA,OAAO,CAACuB,eAAD,CAAkB,CAAErB,yBAAyB,CAAzBA,yBAAF,CAA6BC,sBAAsB,CAAtBA,sBAA7B,CAAlB,CAAP,CACbE,qBADa,CAAf","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport WorkComments from \"./WorkComments\";\r\nimport { uploadCurrentWorkComments, uploadCurrentCommentId } from \"../../../Redux/WorksReducer\";\r\nimport { useHttp } from \"../../../hooks/http.hook\";\r\n\r\nconst WorkCommentsContainer = (props) => {\r\n  const { request } = useHttp();\r\n\r\n  const addWorkComment = async (formData) => {\r\n    try {\r\n      await request(\"/api/works/createWorkComment\", \"POST\", {\r\n        ...formData,\r\n        workOwner: props.currentWorkId,\r\n      });\r\n      const workCommentsResponse = await request(\r\n        `/api/works/getWorkComments/${props.currentWorkId}`,\r\n        \"GET\",\r\n        null\r\n      );\r\n      props.uploadCurrentWorkComments(workCommentsResponse);\r\n      formData.userName = \"\";\r\n      formData.CommentText = \"\";\r\n    } catch (e) {}\r\n  };\r\n\r\n  const addWorkCommentAnswer = async (formData) => {\r\n    try {\r\n      await request(\"/api/works/createWorkComment\", \"POST\", {\r\n        ...formData,\r\n        workOwner: props.currentWorkId,\r\n        commentOwner: props.currentCommentId,\r\n      });\r\n      const workCommentsResponse = await request(\r\n        `/api/works/getWorkComments/${props.currentWorkId}`,\r\n        \"GET\",\r\n        null\r\n      );\r\n      props.uploadCurrentWorkComments(workCommentsResponse);\r\n      props.uploadCurrentCommentId(null);\r\n    } catch (e) {}\r\n  };\r\n  const addAnswer = (e) => {\r\n    props.uploadCurrentCommentId(e.currentTarget.id);\r\n  };\r\n\r\n  return (\r\n    <WorkComments\r\n      // props\r\n      workComments={props.workComments}\r\n      currentCommentId={props.currentCommentId}\r\n      // functions\r\n      addWorkComment={addWorkComment}\r\n      addWorkCommentAnswer={addWorkCommentAnswer}\r\n      addAnswer={addAnswer}\r\n    />\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    workComments: state.works.workComments,\r\n    currentWorkId: state.works.currentWorkId,\r\n    currentCommentId: state.works.currentCommentId,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { uploadCurrentWorkComments, uploadCurrentCommentId })(\r\n  WorkCommentsContainer\r\n);\r\n"]},"metadata":{},"sourceType":"module"}