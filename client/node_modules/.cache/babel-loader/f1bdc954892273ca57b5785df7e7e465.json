{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\jassem\\\\Desktop\\\\my_portfolio\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{useState,useCallback}from\"react\";export var useHttp=function useHttp(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var request=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var method,body,headers,response,data,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:\"GET\";body=_args.length>2&&_args[2]!==undefined?_args[2]:null;headers=_args.length>3&&_args[3]!==undefined?_args[3]:{};setLoading(true);_context.prev=4;if(body){body=JSON.stringify(body);headers[\"Content-Type\"]=\"application/json\";}_context.next=8;return fetch(url,{method:method,body:body,headers:headers});case 8:response=_context.sent;_context.next=11;return response.json();case 11:data=_context.sent;if(response.ok){_context.next=14;break;}throw new Error(data.message||\"Something wrong\");case 14:setLoading(false);return _context.abrupt(\"return\",data);case 18:_context.prev=18;_context.t0=_context[\"catch\"](4);setLoading(false);setError(_context.t0.message);throw _context.t0;case 23:case\"end\":return _context.stop();}}},_callee,null,[[4,18]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);// const clearError = () => setError(null);\nreturn{loading:loading,request:request,error:error};};","map":{"version":3,"sources":["C:/Users/jassem/Desktop/my_portfolio/client/src/hooks/http.hook.js"],"names":["useState","useCallback","useHttp","loading","setLoading","error","setError","request","url","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message"],"mappings":"igBAAA,OAASA,QAAT,CAAmBC,WAAnB,KAAsC,OAAtC,CAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,eACGF,QAAQ,CAAC,KAAD,CADX,wCACpBG,OADoB,eACXC,UADW,8BAEDJ,QAAQ,CAAC,IAAD,CAFP,yCAEpBK,KAFoB,eAEbC,QAFa,eAI3B,GAAMC,CAAAA,OAAO,CAAGN,WAAW,0FAAC,iBAAOO,GAAP,wKAAYC,MAAZ,+CAAqB,KAArB,CAA4BC,IAA5B,+CAAmC,IAAnC,CAAyCC,OAAzC,+CAAmD,EAAnD,CAC1BP,UAAU,CAAC,IAAD,CAAV,CAD0B,gBAGxB,GAAIM,IAAJ,CAAU,CACRA,IAAI,CAAGE,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAP,CACAC,OAAO,CAAC,cAAD,CAAP,CAA0B,kBAA1B,CACD,CANuB,sBAODG,CAAAA,KAAK,CAACN,GAAD,CAAM,CAAEC,MAAM,CAANA,MAAF,CAAUC,IAAI,CAAJA,IAAV,CAAgBC,OAAO,CAAPA,OAAhB,CAAN,CAPJ,QAOlBI,QAPkB,sCAQLA,CAAAA,QAAQ,CAACC,IAAT,EARK,SAQlBC,IARkB,kBAUnBF,QAAQ,CAACG,EAVU,+BAWhB,IAAIC,CAAAA,KAAJ,CAAUF,IAAI,CAACG,OAAL,EAAgB,iBAA1B,CAXgB,SAaxBhB,UAAU,CAAC,KAAD,CAAV,CAbwB,gCAejBa,IAfiB,4DAiBxBb,UAAU,CAAC,KAAD,CAAV,CACAE,QAAQ,CAAC,YAAEc,OAAH,CAAR,CAlBwB,uFAAD,+DAqBxB,EArBwB,CAA3B,CAuBA;AACA,MAAO,CAAEjB,OAAO,CAAPA,OAAF,CAAWI,OAAO,CAAPA,OAAX,CAAoBF,KAAK,CAALA,KAApB,CAAP,CACD,CA7BM","sourcesContent":["import { useState, useCallback } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const request = useCallback(async (url, method = \"GET\", body = null, headers = {}) => {\r\n    setLoading(true);\r\n    try {\r\n      if (body) {\r\n        body = JSON.stringify(body);\r\n        headers[\"Content-Type\"] = \"application/json\";\r\n      }\r\n      const response = await fetch(url, { method, body, headers });\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || \"Something wrong\");\r\n      }\r\n      setLoading(false);\r\n\r\n      return data;\r\n    } catch (e) {\r\n      setLoading(false);\r\n      setError(e.message);\r\n      throw e;\r\n    }\r\n  }, []);\r\n\r\n  // const clearError = () => setError(null);\r\n  return { loading, request, error };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}